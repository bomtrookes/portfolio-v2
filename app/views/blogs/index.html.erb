<div class="container">
  <div class="d-flex justify-content-between">
    <h1>Blog Posts</h1>
    <p><%= link_to "Write Blog Post", new_blog_path %></p>
  </div>

  <%= form_with url: blogs_path, method: :get, class: "d-flex" do %>
  <%= text_field_tag :query,
    params[:query],
    class: "form-control",
    placeholder: "Search..."
  %>
  <%= submit_tag "Search", class: "btn btn-primary" %>
  <% end %>

  <hr>
  <% @blogs.each do |blog| %>
    <div class="card d-flex flex-row">
      <% if blog.image.present? %>
        <div class="blog-header rounded"
        style="width: 100px; height: 100px; background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path blog.image.key, height: 100, crop: :fill %>')">
        </div>
      <% end %>

    <div class="p-2">
      <h4><%= link_to blog.title, blog_path(blog) %></h2>
      <p><%= blog.created_at %></p>
    </div>

    </div>
    <br>
  <% end %>

</div>
