<div class="container">
  <div class="d-flex justify-content-between">
    <h1>Projects</h1>
    <p><%= link_to "New Project", new_project_path %></p>
  </div>

  <%= form_with url: projects_path, method: :get, class: "d-flex" do %>
  <%= text_field_tag :query,
    params[:query],
    class: "form-control",
    placeholder: "Search..."
  %>
  <%= submit_tag "Search", class: "btn btn-primary" %>
  <% end %>

  <hr>
  <% @projects.each do |project| %>
    <div class="card container">
      <h2><%= link_to project.name, project_path(project) %></h2>
      <%# if cl_image_tag project.image.key.present? %>
        <%= cl_image_tag project.image.key, height: 300, width: 400, crop: :fill %>
      <%# end %>
      <hr>
      <p><%= project.caption %><p>
      <div class="skills">
        <ul>
          <% project.skills.each do |skill| %>
            <li><%= skill %></li>
          <% end %>
        </ul>
      </div>

    </div>
    <br>
  <% end %>
</div>
